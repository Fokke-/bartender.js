{"version":3,"sources":["offcanvas.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","OffCanvas","options","debug","overlay","closeOnEsc","mainWrapSelector","contentWrapSelector","openButtonSelector","closeButtonSelector","toggleButtonSelector","currentOpenBar","previousOpenButton","resizeTimeout","bars","left","right","top","bottom","init","value","text","undefined","console","log","error","button","_this","mainWrap","document","querySelector","contentWrap","openButtons","querySelectorAll","closeButtons","toggleButtons","classList","add","_a","_f","position","getAttribute","isValidPosition","addEventListener","openBar","event","indexOf","keyCode","preventDefault","logError","_i","_a2","_i2","closeBar","createElement","appendChild","window","clearTimeout","setTimeout","setContentWrapPush","newBar","OffCanvasBar","parentElement","bar","element","contains","open","showOverlay","close","focus","style","removeProperty","hideOverlay","mode","overflow","transform","offsetWidth","offsetHeight","remove","selector","focusableElementSelector","isValidMode","setAttribute","disableFocus","_a3","_i3","_a4","_i4","removeAttribute","enableFocus"],"mappings":"AAAA,aAEA,SAASA,WAA2Q,OAA9PA,SAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,gBAAgBC,EAAUC,GAAe,KAAMD,aAAoBC,GAAgB,MAAM,IAAIC,UAAU,qCAEhH,SAASC,kBAAkBf,EAAQgB,GAAS,IAAK,IAAIf,EAAI,EAAGA,EAAIe,EAAMb,OAAQF,IAAK,CAAE,IAAIgB,EAAaD,EAAMf,GAAIgB,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAcA,EAAWG,UAAW,GAAQtB,OAAOuB,eAAerB,EAAQiB,EAAWZ,IAAKY,IAEjT,SAASK,aAAaT,EAAaU,EAAYC,GAA2J,OAAxID,GAAcR,kBAAkBF,EAAYP,UAAWiB,GAAmBC,GAAeT,kBAAkBF,EAAaW,GAAuBX,EAEjN,IARMY,UAUN,WARE,SAAAA,EAAaC,GAASf,gBAAAD,KAAAe,GACpBf,KAAKgB,QAAU7B,SAAc,CAC3B8B,OAAO,EACPC,SAAS,EACTC,YAAY,EACZC,iBAAkB,kBAClBC,oBAAqB,qBACrBC,mBAAoB,kBACpBC,oBAAqB,mBACrBC,qBAAsB,qBACrBR,GAEHhB,KAAKkB,QAAU,KACflB,KAAKyB,eAAiB,KACtBzB,KAAK0B,mBAAqB,KAC1B1B,KAAK2B,cAAgB,KACrB3B,KAAK4B,KAAO,CACVC,KAAM,KACNC,MAAO,KACPC,IAAK,KACLC,OAAQ,MAGVhC,KAAKiC,OAyUP,OAzTArB,aAAaG,EAAW,CAAC,CACvBpB,IAAK,MACLuC,MAAO,WAdO,IAAXC,EAAW3C,UAAAC,OAAA,QAAA2C,IAAA5C,UAAA,GAAAA,UAAA,GAAJ,GACV6C,QAAQC,IAAI,eAAiBH,KAkB5B,CACDxC,IAAK,WACLuC,MAAO,WAhBY,IAAXC,EAAW3C,UAAAC,OAAA,QAAA2C,IAAA5C,UAAA,GAAAA,UAAA,GAAJ,GACf6C,QAAQE,MAAM,eAAiBJ,KAoB9B,CACDxC,IAAK,QACLuC,MAAO,WAlBS,IAAXC,EAAW3C,UAAAC,OAAA,QAAA2C,IAAA5C,UAAA,GAAAA,UAAA,GAAJ,GACPQ,KAAKgB,QAAQC,OAElBoB,QAAQC,IAAI,qBAAuBH,KAwBlC,CACDxC,IAAK,OACLuC,MAAO,WAvBD,IAqCsBM,EArCtBC,EAAAzC,KACN,IAGE,GADAA,KAAK0C,SAAWC,SAASC,cAAc5C,KAAKgB,QAAQI,mBAC/CpB,KAAK0C,SAAU,KAAM,kDAAoD1C,KAAKgB,QAAQI,iBAG3F,GADApB,KAAK6C,YAAc7C,KAAK0C,SAASE,cAAc5C,KAAKgB,QAAQK,sBACvDrB,KAAK6C,YAAa,KAAM,qDAAuD7C,KAAKgB,QAAQK,oBAGjGrB,KAAK8C,YAAc9C,KAAK0C,SAASK,iBAAiB/C,KAAKgB,QAAQM,oBAC/DtB,KAAKgD,aAAehD,KAAK0C,SAASK,iBAAiB/C,KAAKgB,QAAQO,qBAChEvB,KAAKiD,cAAgBjD,KAAK0C,SAASK,iBAAiB/C,KAAKgB,QAAQQ,sBAGjExB,KAAK0C,SAASQ,UAAUC,IAAI,kBAC5BnD,KAAK6C,YAAYK,UAAUC,IAAI,qBAf7B,IAAA,IAAAC,EAkBFpD,KAAK8C,YAlBHO,EAkBuB,SAAAb,GACvB,IAAIc,EAAWd,EAAOe,aAAa,uBAAyB,OAEvDd,EAAKe,gBAAgBF,IAK1Bd,EAAOiB,iBAAiB,SAAS,WAAA,OAAMhB,EAAKiB,QAAQJ,EAAUd,MAC9DA,EAAOiB,iBAAiB,WAAW,SAAAE,GAC7B,CAAC,GAAI,IAAIC,QAAQD,EAAME,UAAY,IACrCF,EAAMG,iBACNrB,EAAKiB,QAAQJ,EAAUd,QARzBC,EAAKsB,SAAS,yCAA4CT,EAAW,yEAtBvEU,EAAA,EAAAA,EAAAZ,EAAA3D,OAAAuE,IAAAX,EAAAD,EAAAY,IAAA,IAAA,IAAAC,EAoCFjE,KAAKgD,aApCHkB,EAAA,EAAAA,EAAAD,EAAAxE,OAAAyE,KAoCwB1B,EApCxByB,EAAAC,IAqCOT,iBAAiB,SAAS,WAAA,OAAMhB,EAAK0B,cAC5C3B,EAAOiB,iBAAiB,WAAW,SAAAE,GAC7B,CAAC,GAAI,IAAIC,QAAQD,EAAME,UAAY,IACrCF,EAAMG,iBACNrB,EAAK0B,eAMPnE,KAAKgB,QAAQE,UAAYlB,KAAKkB,UAChClB,KAAKkB,QAAUyB,SAASyB,cAAc,OACtCpE,KAAKkB,QAAQgC,UAAUC,IAAI,qBAC3BnD,KAAKkB,QAAQuC,iBAAiB,SAAS,WAAA,OAAMhB,EAAK0B,cAClDnE,KAAKkB,QAAQuC,iBAAiB,WAAW,SAAAE,GACnC,CAAC,GAAI,IAAIC,QAAQD,EAAME,UAAY,IACrCF,EAAMG,iBACNrB,EAAK0B,eAITnE,KAAK6C,YAAYwB,YAAYrE,KAAKkB,UAIhClB,KAAKgB,QAAQG,YACfmD,OAAOb,iBAAiB,WAAW,SAAAE,GACX,KAAlBA,EAAME,UACRF,EAAMG,iBACNrB,EAAK0B,eAMXG,OAAOb,iBAAiB,UAAU,WAChCc,aAAa9B,EAAKd,eAElBc,EAAKd,cAAgB6C,YAAW,WAC9B/B,EAAKgC,uBACJ,QAEL,MAAOlC,GACPvC,KAAK+D,SAASxB,GAGhB,OAAOvC,OAsDN,CACDL,IAAK,kBACLuC,MAAO,WArDyB,IAAjBoB,EAAiB9D,UAAAC,OAAA,QAAA2C,IAAA5C,UAAA,GAAAA,UAAA,GAAN,KAC1B,MAAO,CAAC,OAAQ,QAAS,MAAO,UAAUoE,QAAQN,IAAa,IAwD9D,CACD3D,IAAK,SACLuC,MAAO,WAvDgC,IAAjCoB,EAAiC9D,UAAAC,OAAA,QAAA2C,IAAA5C,UAAA,GAAAA,UAAA,GAAtB,OAAQwB,EAAcxB,UAAAC,OAAA,QAAA2C,IAAA5C,UAAA,GAAAA,UAAA,GAAJ,GACnC,IAEE,IAAKQ,KAAK0C,WAAa1C,KAAK6C,YAAa,OAAO7C,KAGhD,IAAKA,KAAKwD,gBAAgBF,GAAW,KAAM,yBAA4BA,EAAW,+DAGlF,GAAItD,KAAK4B,KAAK0B,GAAW,KAAM,sBAAyBA,EAAW,uBAGnE,IAAMoB,EAAS,IAAIC,aAAa3D,GAChC0D,EAAOE,cAAgB5E,KAAK0C,SAC5BgC,EAAOpB,SAAWA,EAClBoB,EAAOzC,OAGPjC,KAAK4B,KAAK0B,GAAYoB,EAEtB1E,KAAKiB,MAAM,4BAA+BqC,EAAW,KACrD,MAAOf,GACPvC,KAAK+D,SAASxB,GAGhB,OAAOvC,OAgEN,CACDL,IAAK,UACLuC,MAAO,WA/DgC,IAAhCoB,EAAgC9D,UAAAC,OAAA,QAAA2C,IAAA5C,UAAA,GAAAA,UAAA,GAArB,KAAMgD,EAAehD,UAAAC,OAAA,QAAA2C,IAAA5C,UAAA,GAAAA,UAAA,GAAN,KACjC,IACE,IAAKQ,KAAKwD,gBAAgBF,GAAW,KAAM,yBAA4BA,EAAW,+DAElF,IAAMuB,EAAM7E,KAAK4B,KAAK0B,GAEtB,IAAKuB,EAAK,KAAM,sBAAyBvB,EAAW,mBACpD,GAAIuB,EAAIC,QAAQ5B,UAAU6B,SAAS,uBAAwB,OAG3D/E,KAAKmE,WAGLnE,KAAKiB,MAAM,gBAAmBqC,EAAW,KACzCuB,EAAIG,OAGJhF,KAAKyB,eAAiBoD,EAGtB7E,KAAKyE,qBAGLzE,KAAK0B,mBAAqBc,EAG1BxC,KAAKiF,cACL,MAAO1C,GACPvC,KAAK+D,SAASxB,GAGhB,OAAOvC,OAsEN,CACDL,IAAK,WACLuC,MAAO,WApEP,IACE,IAAKlC,KAAKyB,eAAgB,OAE1BzB,KAAKiB,MAAM,gBAAmBjB,KAAKyB,eAAe6B,SAAW,KAE7DtD,KAAKyB,eAAeyD,QAGhBlF,KAAK0B,qBACP1B,KAAK0B,mBAAmByD,QACxBnF,KAAK0B,mBAAqB,MAG5B1B,KAAKyB,eAAiB,KACtBzB,KAAK6C,YAAYuC,MAAMC,eAAe,aACtCrF,KAAK0C,SAAS0C,MAAMC,eAAe,YAEnCrF,KAAKsF,cACL,MAAO/C,GACPvC,KAAK+D,SAASxB,GAGhB,OAAOvC,OAsEN,CACDL,IAAK,qBACLuC,MAAO,WApEP,GAAKlC,KAAKyB,gBACLzB,KAAKyB,eAAeT,QAAQuE,OAEjCvF,KAAK0C,SAAS0C,MAAMI,SAAW,SAE3B,CAAC,OAAQ,SAAS5B,QAAQ5D,KAAKyB,eAAeT,QAAQuE,OAAS,GACjE,OAAQvF,KAAKyB,eAAe6B,UAC1B,IAAK,OACHtD,KAAK6C,YAAYuC,MAAMK,UAAY,cAAgBzF,KAAKyB,eAAeqD,QAAQY,YAAc,MAC7F,MAEF,IAAK,QACH1F,KAAK6C,YAAYuC,MAAMK,UAAY,eAAiBzF,KAAKyB,eAAeqD,QAAQY,YAAc,MAC9F,MAEF,IAAK,MACH1F,KAAK6C,YAAYuC,MAAMK,UAAY,cAAgBzF,KAAKyB,eAAeqD,QAAQa,aAAe,MAC9F,MAEF,IAAK,SACH3F,KAAK6C,YAAYuC,MAAMK,UAAY,eAAiBzF,KAAKyB,eAAeqD,QAAQa,aAAe,SA+EpG,CACDhG,IAAK,cACLuC,MAAO,WA1EFlC,KAAKkB,UACNlB,KAAKkB,QAAQgC,UAAU6B,SAAS,gCAEpC/E,KAAKiB,MAAM,mBAEXjB,KAAKkB,QAAQgC,UAAUC,IAAI,kCAiF1B,CACDxD,IAAK,cACLuC,MAAO,WA/EFlC,KAAKkB,SACLlB,KAAKkB,QAAQgC,UAAU6B,SAAS,gCAErC/E,KAAKiB,MAAM,kBAEXjB,KAAKkB,QAAQgC,UAAU0C,OAAO,mCAwFzB7E,EAxVT,GAoQM4D,aAyFN,WAvFE,SAAAA,EAAY3D,GAASf,gBAAAD,KAAA2E,GACnB3E,KAAKgB,QAAU7B,SAAc,CAC3B0G,SAAU,GACVC,yBAA0B,2EAC1BP,KAAM,SACLvE,GAEHhB,KAAK4E,cAAgB,KACrB5E,KAAK8E,QAAU,KACf9E,KAAKsD,SAAW,KA2LlB,OA/FA1C,aAAa+D,EAAc,CAAC,CAC1BhF,IAAK,cACLuC,MAAO,WA3Fc,IAAXqD,EAAW/F,UAAAC,OAAA,QAAA2C,IAAA5C,UAAA,GAAAA,UAAA,GAAJ,GACjB,MAAO,CAAC,QAAS,OAAQ,SAASoE,QAAQ2B,IAAS,IA8FlD,CACD5F,IAAK,OACLuC,MAAO,WA3FP,IAAKlC,KAAKsD,SAAU,KAAM,2BAC1B,IAAKtD,KAAK4E,cAAe,KAAM,mCAAsC5E,KAAKsD,SAAW,IAOrF,GAJKtD,KAAKgB,QAAQ6E,WAAU7F,KAAKgB,QAAQ6E,SAAW,mBAAqB7F,KAAKsD,UAG9EtD,KAAK8E,QAAU9E,KAAK4E,cAAchC,cAAc5C,KAAKgB,QAAQ6E,WACxD7F,KAAK8E,QAAS,KAAM,4CAA8C9E,KAAKgB,QAAQ6E,SAGpF,IAAK7F,KAAK+F,YAAY/F,KAAKgB,QAAQuE,MAAO,KAAM,iBAAoBvF,KAAKgB,QAAQuE,KAAO,cAAkBvF,KAAKsD,SAAW,0DAS1H,OANAtD,KAAK8E,QAAQ5B,UAAUC,IAAI,iBAC3BnD,KAAK8E,QAAQkB,aAAa,8BAA+BhG,KAAKsD,UAG9DtD,KAAKiG,eAEEjG,OAyGN,CACDL,IAAK,eACLuC,MAAO,WAxGO,IAAA,IAAAgE,EAEdlG,KAAK8E,QAAQ/B,iBAAiB/C,KAAKgB,QAAQ8E,0BAF7BK,EAAA,EAAAA,EAAAD,EAAAzG,OAAA0G,IAAAD,EAAAC,GAGPH,aAAa,WAAY,MAIhChG,KAAK8E,QAAQkB,aAAa,WAAY,MACtChG,KAAK8E,QAAQkB,aAAa,cAAe,UAiHxC,CACDrG,IAAK,cACLuC,MAAO,WAhHM,IAAA,IAAAkE,EAEbpG,KAAK8E,QAAQ/B,iBAAiB/C,KAAKgB,QAAQ8E,0BAF9BO,EAAA,EAAAA,EAAAD,EAAA3G,OAAA4G,IAAAD,EAAAC,GAGNC,gBAAgB,YAIvBtG,KAAK8E,QAAQwB,gBAAgB,eAC7BtG,KAAK8E,QAAQkB,aAAa,WAAY,KACtChG,KAAK8E,QAAQK,UAyHZ,CACDxF,IAAK,OACLuC,MAAO,WAvHPlC,KAAKuG,cACLvG,KAAK8E,QAAQ5B,UAAUC,IAAI,yBA0H1B,CACDxD,IAAK,QACLuC,MAAO,WAxHPlC,KAAKiG,eACLjG,KAAK8E,QAAQ5B,UAAU0C,OAAO,2BA6HzBjB,EA7GT","file":"offcanvas.js","sourcesContent":["'use strict';\n\nclass OffCanvas {\n\n  constructor (options) {\n    this.options = Object.assign({\n      debug: false, // Debug mode\n      overlay: true, // Show shading overlay over content wrapper when bar is open?\n      closeOnEsc: true, // Close open bar with escape key?\n      mainWrapSelector: '.offcanvas-main',\n      contentWrapSelector: '.offcanvas-content',\n      openButtonSelector: '.offcanvas-open',\n      closeButtonSelector: '.offcanvas-close',\n      toggleButtonSelector: '.offcanvas-toggle',\n    }, options)\n\n    this.overlay = null\n    this.currentOpenBar = null\n    this.previousOpenButton = null\n    this.resizeTimeout = null\n    this.bars = {\n      left: null,\n      right: null,\n      top: null,\n      bottom: null,\n    }\n\n    this.init()\n  }\n\n  // Logging function\n  log (text = '') {\n    console.log('Off-canvas: ' + text)\n  }\n\n  // Error logging function\n  logError (text = '') {\n    console.error('Off-canvas: ' + text)\n  }\n\n  // Debug logging function\n  debug (text = '') {\n    if (!this.options.debug) return\n\n    console.log('Off-canvas debug: ' + text)\n  }\n\n  init () {\n    try {\n      // Find and validate required elements\n      this.mainWrap = document.querySelector(this.options.mainWrapSelector)\n      if (!this.mainWrap) throw 'Main wrap element was not found with selector: ' + this.options.mainWrapSelector\n\n      this.contentWrap = this.mainWrap.querySelector(this.options.contentWrapSelector)\n      if (!this.contentWrap) throw 'Content wrap element was not found with selector: ' + this.options.contentWrapSelector\n\n      // Find all buttons\n      this.openButtons = this.mainWrap.querySelectorAll(this.options.openButtonSelector)\n      this.closeButtons = this.mainWrap.querySelectorAll(this.options.closeButtonSelector)\n      this.toggleButtons = this.mainWrap.querySelectorAll(this.options.toggleButtonSelector)\n\n      // Add classes\n      this.mainWrap.classList.add('offcanvas-main')\n      this.contentWrap.classList.add('offcanvas-content')\n\n      // Add event listeners for open buttons\n      this.openButtons.forEach(button => {\n        let position = button.getAttribute('data-offcanvas-bar') || 'left'\n\n        if (!this.isValidPosition(position)) {\n          this.logError('Open button has invalid bar position \\'' + position + '\\' defined. Use one of the following values: left, right, top, bottom')\n          return\n        }\n\n        button.addEventListener('click', () => this.openBar(position, button))\n        button.addEventListener('keydown', event => {\n          if ([13, 32].indexOf(event.keyCode) > -1) {\n            event.preventDefault()\n            this.openBar(position, button)\n          }\n        })\n      })\n\n      // Add event listeners for close buttons\n      this.closeButtons.forEach(button => {\n        button.addEventListener('click', () => this.closeBar())\n        button.addEventListener('keydown', event => {\n          if ([13, 32].indexOf(event.keyCode) > -1) {\n            event.preventDefault()\n            this.closeBar()\n          }\n        })\n      })\n\n      // Add overlay\n      if (this.options.overlay && !this.overlay) {\n        this.overlay = document.createElement('div')\n        this.overlay.classList.add('offcanvas-overlay')\n        this.overlay.addEventListener('click', () => this.closeBar())\n        this.overlay.addEventListener('keydown', event => {\n          if ([13, 32].indexOf(event.keyCode) > -1) {\n            event.preventDefault()\n            this.closeBar()\n          }\n        })\n\n        this.contentWrap.appendChild(this.overlay)\n      }\n\n      // Enable closing the bar with escape key\n      if (this.options.closeOnEsc) {\n        window.addEventListener('keydown', event => {\n          if (event.keyCode === 27) {\n            event.preventDefault()\n            this.closeBar()\n          }\n        })\n      }\n\n      // Adjust content wrapper transform when window is resized\n      window.addEventListener('resize', () => {\n        clearTimeout(this.resizeTimeout)\n\n        this.resizeTimeout = setTimeout(() => {\n          this.setContentWrapPush()\n        }, 200)\n      })\n    } catch (error) {\n      this.logError(error)\n    }\n\n    return this\n  }\n\n  isValidPosition (position = null) {\n    return ['left', 'right', 'top', 'bottom'].indexOf(position) >= 0\n  }\n\n  addBar (position = 'left', options = {}) {\n    try {\n      // Validate required elements\n      if (!this.mainWrap || !this.contentWrap) return this\n\n      // Validate position\n      if (!this.isValidPosition(position)) throw 'Invalid bar position \\'' + position + '\\'. Use one of the following values: left, right, top, bottom'\n\n      // Check that bar is not already defined\n      if (this.bars[position]) throw 'Bar with position \\'' + position + '\\' is already defined'\n\n      // Create new bar object\n      const newBar = new OffCanvasBar(options)\n      newBar.parentElement = this.mainWrap\n      newBar.position = position\n      newBar.init()\n\n      // Insert new bar\n      this.bars[position] = newBar\n\n      this.debug('Added bar with position \\'' + position + '\\'')\n    } catch (error) {\n      this.logError(error)\n    }\n\n    return this\n  }\n\n  openBar (position = null, button = null) {\n    try {\n      if (!this.isValidPosition(position)) throw 'Invalid bar position \\'' + position + '\\'. Use one of the following values: left, right, top, bottom'\n\n      const bar = this.bars[position]\n\n      if (!bar) throw 'Bar with position \\'' + position + '\\' is not defined'\n      if (bar.element.classList.contains('offcanvas-bar--open')) return\n\n      // Close other bars\n      this.closeBar()\n\n      // Open bar\n      this.debug('Opening bar \\'' + position + '\\'')\n      bar.open()\n\n      // Mark this bar as open\n      this.currentOpenBar = bar\n\n      // Push content wrap if needed\n      this.setContentWrapPush()\n\n      // Remember the button which was used to open off-canvas\n      this.previousOpenButton = button\n\n      // Show overlay\n      this.showOverlay()\n    } catch (error) {\n      this.logError(error)\n    }\n\n    return this\n  }\n\n  closeBar () {\n    try {\n      if (!this.currentOpenBar) return\n\n      this.debug('Closing bar \\'' + this.currentOpenBar.position + '\\'')\n\n      this.currentOpenBar.close()\n\n      // Focus open button which was used to open the bar\n      if (this.previousOpenButton) {\n        this.previousOpenButton.focus()\n        this.previousOpenButton = null\n      }\n\n      this.currentOpenBar = null\n      this.contentWrap.style.removeProperty('transform')\n      this.mainWrap.style.removeProperty('overflow')\n\n      this.hideOverlay()\n    } catch (error) {\n      this.logError(error)\n    }\n\n    return this\n  }\n\n  setContentWrapPush () {\n    if (!this.currentOpenBar) return\n    if (!this.currentOpenBar.options.mode) return\n\n    this.mainWrap.style.overflow = 'hidden'\n\n    if (['push', 'slide'].indexOf(this.currentOpenBar.options.mode) >= 0) {\n      switch (this.currentOpenBar.position) {\n        case 'left':\n          this.contentWrap.style.transform = 'translateX(' + this.currentOpenBar.element.offsetWidth + 'px)'\n          break\n\n        case 'right':\n          this.contentWrap.style.transform = 'translateX(-' + this.currentOpenBar.element.offsetWidth + 'px)'\n          break\n\n        case 'top':\n          this.contentWrap.style.transform = 'translateY(' + this.currentOpenBar.element.offsetHeight + 'px)'\n          break\n\n        case 'bottom':\n          this.contentWrap.style.transform = 'translateY(-' + this.currentOpenBar.element.offsetHeight + 'px)'\n          break\n      }\n    }\n  }\n\n  showOverlay () {\n    if (!this.overlay) return\n    if (this.overlay.classList.contains('offcanvas-overlay--visible')) return\n\n    this.debug('Showing overlay')\n\n    this.overlay.classList.add('offcanvas-overlay--visible')\n  }\n\n  hideOverlay () {\n    if (!this.overlay) return\n    if (!this.overlay.classList.contains('offcanvas-overlay--visible')) return\n\n    this.debug('Hiding overlay')\n\n    this.overlay.classList.remove('offcanvas-overlay--visible')\n  }\n}\n\nclass OffCanvasBar {\n\n  constructor(options) {\n    this.options = Object.assign({\n      selector: '',\n      focusableElementSelector: 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])',\n      mode: 'float',\n    }, options)\n\n    this.parentElement = null\n    this.element = null\n    this.position = null\n  }\n\n  isValidMode(mode = '') {\n    return ['float', 'push', 'slide'].indexOf(mode) >= 0\n  }\n\n  init () {\n    // Validate required properties\n    if (!this.position) throw 'Missing position for bar'\n    if (!this.parentElement) throw 'Missing parent element for bar \\'' + this.position + '\\''\n\n    // If selector is not specified, use default\n    if (!this.options.selector) this.options.selector = '.offcanvas-bar--' + this.position\n\n    // Check that defined bar element exists\n    this.element = this.parentElement.querySelector(this.options.selector)\n    if (!this.element) throw 'Bar element was not found with selector: ' + this.options.selector\n\n    // Validate mode\n    if (!this.isValidMode(this.options.mode)) throw 'Invalid mode \\'' + this.options.mode + '\\' for bar \\'' + this.position + '\\'. Use one of the following values: float, push, slide.'\n\n    // Insert attributes\n    this.element.classList.add('offcanvas-bar')\n    this.element.setAttribute('data-offcanvas-bar-position', this.position)\n\n    // Disable focus\n    this.disableFocus()\n\n    return this\n  }\n\n  disableFocus () {\n    // Prevent focus on bar child elements\n    this.element.querySelectorAll(this.options.focusableElementSelector).forEach(item => {\n      item.setAttribute('tabindex', '-1')\n    })\n\n    // Prevent focus on bar\n    this.element.setAttribute('tabindex', '-1')\n    this.element.setAttribute('aria-hidden', 'true')\n  }\n\n  enableFocus () {\n    // Enable focus on bar child elements\n    this.element.querySelectorAll(this.options.focusableElementSelector).forEach(item => {\n      item.removeAttribute('tabindex')\n    })\n\n    // Focus on bar\n    this.element.removeAttribute('aria-hidden')\n    this.element.setAttribute('tabindex', '0')\n    this.element.focus()\n  }\n\n  open () {\n    this.enableFocus()\n    this.element.classList.add('offcanvas-bar--open')\n  }\n\n  close () {\n    this.disableFocus()\n    this.element.classList.remove('offcanvas-bar--open')\n  }\n\n}"]}