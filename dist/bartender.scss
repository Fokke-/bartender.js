.bartender-disable-scroll {
  overflow: hidden;
}

.bartender-bar {
  --top: auto;
  --bottom: auto;
  --left: auto;
  --right: auto;
  --transform-open: translate(0, 0);
  --transform-closed: unset;
  --width: unset;
  --width-fallback: unset;
  --max-width: unset;
  --max-width-fallback: unset;
  --height: unset;
  --height-fallback: unset;
  --max-height: unset;
  --max-height-fallback: unset;
  --opacity-open: 1;
  --opacity-closed: 1;
  --transition-duration: 250ms;
  --transition-timing-function: ease;
  --transition-duration-open: var(--transition-duration);
  --transition-duration-closed: var(--transition-duration);
  --transition-timing-function-open: var(--transition-timing-function);
  --transition-timing-function-closed: var(--transition-timing-function);
  --overlay-background: #000;
  --overlay-opacity: 0.5;
  --overlay-transition-duration-open: var(--transition-duration-open);
  --overlay-transition-duration-closed: var(--transition-duration-closed);
  --overlay-transition-timing-function-open: var(
    --transition-timing-function-open
  );
  --overlay-transition-timing-function-closed: var(
    --transition-timing-function-closed
  );

  position: fixed;
  top: var(--top);
  bottom: var(--bottom);
  left: var(--left);
  right: var(--right);
  width: var(--width-fallback);
  width: var(--width);
  max-width: var(--max-width-fallback);
  max-width: var(--max-width);
  height: var(--height-fallback);
  height: var(--height);
  max-height: var(--max-height-fallback);
  max-height: var(--max-height);
  z-index: 99999; // For non-modal dialogs
  box-sizing: border-box;
  overflow: auto;
  margin: 0;
  padding: 0;
  border: 0;

  @media (prefers-reduced-motion) {
    transition: none !important;
  }

  &:focus {
    outline: 0;
  }

  &[open] {
    opacity: var(--opacity-open);
    transform: var(--transform-open);
    transition:
      opacity var(--transition-duration-open)
        var(--transition-timing-function-open),
      transform var(--transition-duration-open)
        var(--transition-timing-function-open),
      overlay var(--transition-duration-open)
        var(--transition-timing-function-open) allow-discrete,
      display var(--transition-duration-open)
        var(--transition-timing-function-open) allow-discrete;

    @starting-style {
      opacity: var(--opacity-closed);
      transform: var(--transform-closed);
    }
  }

  &:not([open]) {
    opacity: var(--opacity-closed);
    transform: var(--transform-closed);
    transition:
      opacity var(--transition-duration-closed)
        var(--transition-timing-function-closed),
      transform var(--transition-duration-closed)
        var(--transition-timing-function-closed),
      overlay var(--transition-duration-closed)
        var(--transition-timing-function-closed) allow-discrete,
      display var(--transition-duration-closed)
        var(--transition-timing-function-closed) allow-discrete;
  }

  &--position {
    &-left,
    &-right {
      --top: 0;
      --width: 80dvw;
      --width-fallback: 80vw;
      --max-width: 400px;
      --height: 100dvh;
      --height-fallback: 100vh;
    }

    &-left {
      --left: 0;
      --transform-closed: translate(-100%, 0);
    }

    &-right {
      --right: 0;
      --transform-closed: translate(100%, 0);
    }

    &-top,
    &-bottom {
      --left: 0;
      --width: 100dvw;
      --width-fallback: 100vw;
      --height: 80dvh;
      --height-fallback: 80vh;
      --max-height: 400px;
    }

    &-top {
      --top: 0;
      --transform-closed: translate(0, -100%);
    }

    &-bottom {
      --bottom: 0;
      --transform-closed: translate(0, 100%);
    }
  }

  &::backdrop {
    opacity: 0; // By default overlay is invisible
    background-color: var(--overlay-background);

    @media (prefers-reduced-motion) {
      transition: none !important;
    }
  }

  &--has-overlay {
    &[open] {
      &::backdrop {
        opacity: 0.5;
        transition:
          opacity var(--overlay-transition-duration-open)
            var(--overlay-transition-timing-function-open),
          overlay var(--overlay-transition-duration-open)
            var(--overlay-transition-timing-function-open) allow-discrete,
          display var(--overlay-transition-duration-open)
            var(--overlay-transition-timing-function-open) allow-discrete;

        @starting-style {
          opacity: 0;
        }
      }
    }

    &:not([open]) {
      &::backdrop {
        transition:
          opacity var(--overlay-transition-duration-closed)
            var(--overlay-transition-timing-function-closed),
          overlay var(--overlay-transition-duration-closed)
            var(--overlay-transition-timing-function-closed) allow-discrete,
          display var(--overlay-transition-duration-closed)
            var(--overlay-transition-timing-function-closed) allow-discrete;
      }
    }
  }
}
